<!DOCTYPE html>


<html lang="en" >


<head>
  <meta charset="utf-8" />
    
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>
     孙云龙的技术博客
  </title>
  <meta name="generator" content="hexo-theme-yilia-plus">
  
  <link rel="shortcut icon" href="/favicon.ico" />
  
  <link rel="stylesheet" href="/dist/main.css">
  <link rel="stylesheet" href="/css/custom.css">
  
  <script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>
  
  

  

<link rel="alternate" href="/atom.xml" title="孙云龙的技术博客" type="application/atom+xml">
</head>

</html>

<body>
  <div id="app">
    <main class="content on">
      
<section class="cover">
    
  <div class="cover-frame">
    <div class="bg-box">
      <img src="/images/cover1.jpg" alt="image frame" />
    </div>
    <div class="cover-inner text-center text-white">
      <h1><a href="/">孙云龙的技术博客</a></h1>
      <div id="subtitle-box">
        
        <span id="subtitle"></span>
        
      </div>
      <div>
        
      </div>
    </div>
  </div>
  <div class="cover-learn-more">
    <a href="javascript:void(0)" class="anchor"><i class="ri-arrow-down-line"></i></a>
  </div>
</section>



<script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js"></script>

<div id="main">
  <section class="outer">
  <article class="articles">
    
    
    
    
    <article id="blog-go-big-or-go-home-28" class="article article-type-blog" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/04/12/go-big-or-go-home-28/"
    >go big or go home-28</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/04/12/go-big-or-go-home-28/" class="article-date">
  <time datetime="2020-04-12T15:28:55.000Z" itemprop="datePublished">2020-04-12</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/English/">English</a>
  </div>

      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <table>
<thead>
<tr>
<th>单词/短语</th>
<th>中文</th>
<th>句子</th>
</tr>
</thead>
<tbody><tr>
<td>go by</td>
<td>流逝</td>
<td>Don’t waste your time as it goes by quickly</td>
</tr>
<tr>
<td>left-handed</td>
<td>惯用左手的</td>
<td>This left-handed girl is painting with her left hand</td>
</tr>
<tr>
<td>badminton</td>
<td>羽毛球</td>
<td>There kids are playing badminton in the park</td>
</tr>
<tr>
<td>bench</td>
<td>长凳</td>
<td>The boy is sitting on the bench with his monther</td>
</tr>
<tr>
<td>seaman</td>
<td>水手</td>
<td>He looks really happy in the seaman uniform</td>
</tr>
<tr>
<td>bookshelf</td>
<td>书架</td>
<td>Various books are placed on the bookshelves</td>
</tr>
<tr>
<td>diamond</td>
<td>钻石</td>
<td>Diamond rings are very popular among young couples</td>
</tr>
<tr>
<td>bucket</td>
<td>水桶</td>
<td>The cute cat is hiding in a bucket</td>
</tr>
<tr>
<td>Antarctic</td>
<td>南极</td>
<td>This kind of animal lives in the Antarctic</td>
</tr>
<tr>
<td>graduation</td>
<td>毕业</td>
<td>They stand in line and wait for their graduation ceremony</td>
</tr>
</tbody></table>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/单词/">单词</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="blog-go-big-or-go-home-27" class="article article-type-blog" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/04/11/go-big-or-go-home-27/"
    >go big or go home-27</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/04/11/go-big-or-go-home-27/" class="article-date">
  <time datetime="2020-04-11T15:15:56.000Z" itemprop="datePublished">2020-04-11</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/English/">English</a>
  </div>

      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <table>
<thead>
<tr>
<th>单词/短语</th>
<th>中文</th>
<th>句子</th>
</tr>
</thead>
<tbody><tr>
<td>emergency</td>
<td>紧急情况</td>
<td>It’s an emergency.Get her to the hospital now!</td>
</tr>
<tr>
<td>do one’s best</td>
<td>尽最大的努力</td>
<td>Don’t worry so much about the exam.Just do your best</td>
</tr>
<tr>
<td>absolute</td>
<td>绝对的</td>
<td>Motion is absolute,while stillness is relative</td>
</tr>
<tr>
<td>tongue</td>
<td>舌头</td>
<td>The boy sticks out his tongue to make a face to me</td>
</tr>
<tr>
<td>instruct</td>
<td>指导</td>
<td>My mom instructs me how to play golf</td>
</tr>
<tr>
<td>nylon</td>
<td>尼龙</td>
<td>The socks,strap and cord are all made of nylon</td>
</tr>
<tr>
<td>strange</td>
<td>奇怪的</td>
<td>I met a guy wearing strange clothes on the subway</td>
</tr>
<tr>
<td>secondhand</td>
<td>二手的</td>
<td>The boy bought a secondhand book from the old man</td>
</tr>
<tr>
<td>expand</td>
<td>扩大</td>
<td>Our business is expanding across the whole country</td>
</tr>
<tr>
<td>forest</td>
<td>森林</td>
<td>The sun shines through the forest</td>
</tr>
</tbody></table>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/单词/">单词</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="blog-go-big-or-go-home-26" class="article article-type-blog" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/04/10/go-big-or-go-home-26/"
    >go big or go home-26</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/04/10/go-big-or-go-home-26/" class="article-date">
  <time datetime="2020-04-10T15:21:57.000Z" itemprop="datePublished">2020-04-10</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/English/">English</a>
  </div>

      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <table>
<thead>
<tr>
<th>单词/短语</th>
<th>中文</th>
<th>句子</th>
</tr>
</thead>
<tbody><tr>
<td>give in</td>
<td>投降</td>
<td>He finally gave in to me and admintted that I’m the winner</td>
</tr>
<tr>
<td>transform</td>
<td>改变</td>
<td>You will transform into a beautiful butterfly one day</td>
</tr>
<tr>
<td>department</td>
<td>部门</td>
<td>Our company consists of financial department,sales department,and technical department</td>
</tr>
<tr>
<td>put off</td>
<td>推迟</td>
<td>The sports meeting will be put off because of the rain</td>
</tr>
<tr>
<td>mass</td>
<td>众多</td>
<td>A mass of people are waiting</td>
</tr>
<tr>
<td>allow</td>
<td>允许</td>
<td>The green light allows you to go</td>
</tr>
<tr>
<td>serious</td>
<td>认真的</td>
<td>He is always very serious while working</td>
</tr>
<tr>
<td>seem</td>
<td>看起来</td>
<td>It seems his car has a serious problem</td>
</tr>
<tr>
<td>aboard</td>
<td>在…上</td>
<td>In Thailand,fishers often cook and have meals aboard their boats</td>
</tr>
</tbody></table>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/单词/">单词</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="blog-go-big-or-go-home-25" class="article article-type-blog" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/04/10/go-big-or-go-home-25/"
    >go big or go home-25</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/04/10/go-big-or-go-home-25/" class="article-date">
  <time datetime="2020-04-09T16:43:37.000Z" itemprop="datePublished">2020-04-10</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/English/">English</a>
  </div>

      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <table>
<thead>
<tr>
<th>单词/短语</th>
<th>中文</th>
<th>句子</th>
</tr>
</thead>
<tbody><tr>
<td>headmistress</td>
<td>女校长</td>
<td>Our headmistress is giving us a speech</td>
</tr>
<tr>
<td>conventional</td>
<td>依据惯例的</td>
<td>Although we can now pay online,some people still prefer the conventional method of cash</td>
</tr>
<tr>
<td>carry out</td>
<td>完成</td>
<td>After the hard work,I finally carried out my plan</td>
</tr>
<tr>
<td>behaviour</td>
<td>行为</td>
<td>I can tell he is happy from his behaviour</td>
</tr>
<tr>
<td>mirror</td>
<td>镜子</td>
<td>Look at yourselves in the mirror</td>
</tr>
<tr>
<td>vast</td>
<td>辽阔的</td>
<td>This vast desert looks impossible to pass</td>
</tr>
<tr>
<td>toast</td>
<td>烤面包</td>
<td>There are two slices of toast and some butter on the table</td>
</tr>
<tr>
<td>cyclist</td>
<td>骑自行车的人</td>
<td>The cyclist stopped to enjoy the beautiful natuial scenery</td>
</tr>
<tr>
<td>satisfy</td>
<td>满意</td>
<td>-</td>
</tr>
<tr>
<td>frightened</td>
<td>害怕的</td>
<td>-</td>
</tr>
</tbody></table>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/单词/">单词</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="blog-go-big-or-go-home-24" class="article article-type-blog" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/04/08/go-big-or-go-home-24/"
    >go big or go home-24</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/04/08/go-big-or-go-home-24/" class="article-date">
  <time datetime="2020-04-08T13:52:16.000Z" itemprop="datePublished">2020-04-08</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/English/">English</a>
  </div>

      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <table>
<thead>
<tr>
<th>单词/短语</th>
<th>中文</th>
<th>句子</th>
</tr>
</thead>
<tbody><tr>
<td>abroad</td>
<td>到国外</td>
<td>The happy couple traveled abroad and took photos together</td>
</tr>
<tr>
<td>biography</td>
<td>传记文学</td>
<td>On the shelf,you’ll find many biographies of famous people</td>
</tr>
<tr>
<td>voyage</td>
<td>航海</td>
<td>The ship is on a voyage now</td>
</tr>
<tr>
<td>as soon as</td>
<td>一…就</td>
<td>As soon as he got home,it stopped raining</td>
</tr>
<tr>
<td>besides</td>
<td>除…之外</td>
<td>As the winner,I recevied lots of money besides the cup</td>
</tr>
<tr>
<td>fiber</td>
<td>纤维</td>
<td>We can see the fibers of the rope under a magnifying glass</td>
</tr>
<tr>
<td>roller</td>
<td>滚筒</td>
<td>Use the roller to paint the walls</td>
</tr>
<tr>
<td>chew</td>
<td>咀嚼</td>
<td>The boy is chewing the rice</td>
</tr>
<tr>
<td>catch up with</td>
<td>赶上</td>
<td>I finally catch up with other people</td>
</tr>
<tr>
<td>sleep like a baby</td>
<td>像婴儿一样睡觉</td>
<td>-</td>
</tr>
<tr>
<td>guest</td>
<td>客人</td>
<td>-</td>
</tr>
<tr>
<td>professional</td>
<td>专业的</td>
<td>-</td>
</tr>
<tr>
<td>shocked</td>
<td>震惊</td>
<td>-</td>
</tr>
<tr>
<td>frightened</td>
<td>害怕的</td>
<td>-</td>
</tr>
<tr>
<td>satisfy</td>
<td>满意</td>
<td>-</td>
</tr>
<tr>
<td>quiet</td>
<td>安静的</td>
<td>-</td>
</tr>
<tr>
<td>cheer up</td>
<td>加油(宠物狗死了，可以说cheer up)</td>
<td>-</td>
</tr>
<tr>
<td>hang in there</td>
<td>坚持住</td>
<td>-</td>
</tr>
<tr>
<td>take you time</td>
<td>别着急</td>
<td>-</td>
</tr>
<tr>
<td>salary raise</td>
<td>加薪</td>
<td>-</td>
</tr>
<tr>
<td>narrow</td>
<td>狭隘的</td>
<td>-</td>
</tr>
<tr>
<td>screen candidates</td>
<td>筛选候选人</td>
<td>-</td>
</tr>
<tr>
<td>pool of applications</td>
<td>应用池</td>
<td>-</td>
</tr>
<tr>
<td>recruit</td>
<td>招聘</td>
<td>-</td>
</tr>
<tr>
<td>resume</td>
<td>简历</td>
<td>-</td>
</tr>
<tr>
<td>tips</td>
<td>提示</td>
<td>-</td>
</tr>
<tr>
<td>algorithm</td>
<td>算法</td>
<td>-</td>
</tr>
<tr>
<td>headset</td>
<td>耳机</td>
<td>-</td>
</tr>
<tr>
<td>hardworking</td>
<td>勤奋的</td>
<td>-</td>
</tr>
<tr>
<td>confirm</td>
<td>确认</td>
<td>-</td>
</tr>
<tr>
<td>details</td>
<td>详情，细节</td>
<td>-</td>
</tr>
<tr>
<td>etiquette</td>
<td>礼仪</td>
<td>-</td>
</tr>
<tr>
<td>impression</td>
<td>印象</td>
<td>-</td>
</tr>
<tr>
<td>greeting</td>
<td>招呼</td>
<td>-</td>
</tr>
<tr>
<td>job fair</td>
<td>招聘会</td>
<td>-</td>
</tr>
<tr>
<td>confident</td>
<td>信心</td>
<td>-</td>
</tr>
<tr>
<td>slouch</td>
<td>懒散的</td>
<td>-</td>
</tr>
<tr>
<td>hand shake</td>
<td>握手</td>
<td>-</td>
</tr>
<tr>
<td>make eye contact</td>
<td>眼神交流</td>
<td>-</td>
</tr>
<tr>
<td>big picture thinker</td>
<td>大局观的</td>
<td>-</td>
</tr>
<tr>
<td>liberty</td>
<td>自由</td>
<td>The bird flew from the cage and got liberty</td>
</tr>
</tbody></table>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/单词/">单词</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="blog-go-big-or-go-home-23" class="article article-type-blog" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/04/07/go-big-or-go-home-23/"
    >go big or go home-23</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/04/07/go-big-or-go-home-23/" class="article-date">
  <time datetime="2020-04-07T13:31:00.000Z" itemprop="datePublished">2020-04-07</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/English/">English</a>
  </div>

      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <table>
<thead>
<tr>
<th>单词/短语</th>
<th>中文</th>
<th>句子</th>
</tr>
</thead>
<tbody><tr>
<td>pure</td>
<td>纯净的</td>
<td>The water seems so pure and clean</td>
</tr>
<tr>
<td>regulation</td>
<td>法规</td>
<td>The traffic police is introducing traffic rules and regulations to us</td>
</tr>
<tr>
<td>Africa</td>
<td>非洲</td>
<td>Africa is home to some of the world’s oldest cultures</td>
</tr>
<tr>
<td>motherland</td>
<td>祖国</td>
<td>Everyone has their own motherland</td>
</tr>
<tr>
<td>liberty</td>
<td>自由</td>
<td>The bird flew from the cage and got liberty</td>
</tr>
<tr>
<td>pair</td>
<td>一对</td>
<td>Here is a pair of black shoes</td>
</tr>
<tr>
<td>irrigate</td>
<td>灌溉</td>
<td>This machine can irrigate the field</td>
</tr>
<tr>
<td>accompany</td>
<td>陪伴</td>
<td>I always accompany my children to their school</td>
</tr>
<tr>
<td>typist</td>
<td>打字员</td>
<td>The typist is finishing her documents</td>
</tr>
<tr>
<td>barrier</td>
<td>路障</td>
<td>The road was closed by a barrier</td>
</tr>
<tr>
<td>octopus</td>
<td>章鱼</td>
<td>-</td>
</tr>
<tr>
<td>slice</td>
<td>切薄片</td>
<td>-</td>
</tr>
</tbody></table>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/单词/">单词</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="blog-go-big-or-go-home-22" class="article article-type-blog" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/04/06/go-big-or-go-home-22/"
    >go big or go home-22</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/04/06/go-big-or-go-home-22/" class="article-date">
  <time datetime="2020-04-06T14:20:02.000Z" itemprop="datePublished">2020-04-06</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/English/">English</a>
  </div>

      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <table>
<thead>
<tr>
<th>单词/短语</th>
<th>中文</th>
<th>句子</th>
</tr>
</thead>
<tbody><tr>
<td>bang</td>
<td>巨响</td>
<td>After a guest of wind,the door was suddenly shut with a bang</td>
</tr>
<tr>
<td>veal</td>
<td>小牛肉</td>
<td>My favorite meat is veal</td>
</tr>
<tr>
<td>yoghurt</td>
<td>酸奶</td>
<td>Yoghurt tastes very delicious with cookies</td>
</tr>
<tr>
<td>by and by</td>
<td>逐渐的</td>
<td>By and by,the tree will lose its leaves</td>
</tr>
<tr>
<td>wounded</td>
<td>受伤的</td>
<td>The wounded soldier goes to the doctor every day</td>
</tr>
<tr>
<td>pill</td>
<td>药丸</td>
<td>The woman took some pills when she was ill</td>
</tr>
<tr>
<td>goal</td>
<td>目标</td>
<td>The boy’s goal is to become as strong as the man in the poster</td>
</tr>
<tr>
<td>Olympic</td>
<td>奥林匹克</td>
<td>The five rings are the symbol of the Olympic games</td>
</tr>
<tr>
<td>get pay</td>
<td>得到加班费，钱</td>
<td>Do you get pay for that?</td>
</tr>
<tr>
<td>one day off</td>
<td>一天的休息</td>
<td>-</td>
</tr>
<tr>
<td>virus</td>
<td>病毒</td>
<td>-</td>
</tr>
<tr>
<td>fried rice</td>
<td>炒饭</td>
<td>-</td>
</tr>
<tr>
<td>flavor</td>
<td>口味</td>
<td>What’s your favorite flavor of the ice cream?</td>
</tr>
<tr>
<td>vanilla</td>
<td>香草</td>
<td>-</td>
</tr>
<tr>
<td>caramel</td>
<td>焦糖</td>
<td>-</td>
</tr>
<tr>
<td>avocado</td>
<td>牛油果</td>
<td>-</td>
</tr>
<tr>
<td>mix</td>
<td>搅拌</td>
<td>-</td>
</tr>
<tr>
<td>carrot</td>
<td>胡萝卜</td>
<td>-</td>
</tr>
<tr>
<td>mashed potato</td>
<td>土豆泥</td>
<td>-</td>
</tr>
<tr>
<td>dressing</td>
<td>口味，调料</td>
<td>-</td>
</tr>
<tr>
<td>ketchup</td>
<td>番茄酱</td>
<td>-</td>
</tr>
<tr>
<td>mayo</td>
<td>蛋黄酱</td>
<td>-</td>
</tr>
<tr>
<td>sesame oil</td>
<td>麻油，芝麻油</td>
<td>-</td>
</tr>
<tr>
<td>light mayo</td>
<td>淡一点的蛋黄酱</td>
<td>-</td>
</tr>
<tr>
<td>mustard</td>
<td>黄芥末酱</td>
<td>-</td>
</tr>
<tr>
<td>ranch</td>
<td>牧场/田园酱</td>
<td>-</td>
</tr>
<tr>
<td>ingredients</td>
<td>材料</td>
<td>-</td>
</tr>
<tr>
<td>cucumber</td>
<td>黄瓜</td>
<td>-</td>
</tr>
<tr>
<td>lettuce</td>
<td>生菜</td>
<td>-</td>
</tr>
<tr>
<td>olives</td>
<td>橄榄</td>
<td>-</td>
</tr>
<tr>
<td>spinach</td>
<td>菠菜</td>
<td>-</td>
</tr>
<tr>
<td>host</td>
<td>主人</td>
<td>-</td>
</tr>
<tr>
<td>host family</td>
<td>寄宿家庭</td>
<td>-</td>
</tr>
<tr>
<td>seem</td>
<td>看起来</td>
<td>It seems like he is crying</td>
</tr>
<tr>
<td>yummy</td>
<td>可口的</td>
<td>-</td>
</tr>
<tr>
<td>oatmeal</td>
<td>燕麦粥</td>
<td>-</td>
</tr>
<tr>
<td>kiwifruit</td>
<td>猕猴桃</td>
<td>-</td>
</tr>
<tr>
<td>lollipops</td>
<td>棒棒糖</td>
<td>-</td>
</tr>
<tr>
<td>cotton candy</td>
<td>棉花糖</td>
<td>-</td>
</tr>
<tr>
<td>brownies</td>
<td>布朗尼</td>
<td>-</td>
</tr>
<tr>
<td>tiramisu</td>
<td>提拉米苏</td>
<td>-</td>
</tr>
<tr>
<td>a sweet pudding</td>
<td>布丁</td>
<td>-</td>
</tr>
<tr>
<td>custard</td>
<td>蛋挞</td>
<td>-</td>
</tr>
<tr>
<td>matcha</td>
<td>抹茶</td>
<td>-</td>
</tr>
<tr>
<td>blender</td>
<td>搅拌机</td>
<td>-</td>
</tr>
<tr>
<td>chop</td>
<td>切块</td>
<td>-</td>
</tr>
<tr>
<td>mince</td>
<td>切碎</td>
<td>-</td>
</tr>
<tr>
<td>slice</td>
<td>切薄片</td>
<td>-</td>
</tr>
<tr>
<td>instant</td>
<td>即刻的</td>
<td>-</td>
</tr>
<tr>
<td>instant noodle</td>
<td>方便面</td>
<td>-</td>
</tr>
<tr>
<td>vitamins</td>
<td>维生素</td>
<td>-</td>
</tr>
<tr>
<td>nutrients</td>
<td>营养物</td>
<td>-</td>
</tr>
<tr>
<td>carbohydrates</td>
<td>碳水化合物</td>
<td>-</td>
</tr>
<tr>
<td>salmon</td>
<td>三文鱼</td>
<td>-</td>
</tr>
<tr>
<td>crab</td>
<td>螃蟹</td>
<td>-</td>
</tr>
<tr>
<td>squid</td>
<td>鱿鱼</td>
<td>-</td>
</tr>
<tr>
<td>octopus</td>
<td>章鱼</td>
<td>-</td>
</tr>
<tr>
<td>leafy greens</td>
<td>绿叶蔬菜</td>
<td>-</td>
</tr>
<tr>
<td>benefit</td>
<td>好处</td>
<td>-</td>
</tr>
<tr>
<td>spicy food</td>
<td>辣的食物</td>
<td>-</td>
</tr>
<tr>
<td>one big meal</td>
<td>整餐</td>
<td>-</td>
</tr>
<tr>
<td>several small snacks</td>
<td>小吃</td>
<td>-</td>
</tr>
<tr>
<td>gym person</td>
<td>健身的人</td>
<td>-</td>
</tr>
<tr>
<td>sugar cravings</td>
<td>对糖的渴望</td>
<td>-</td>
</tr>
<tr>
<td>gold</td>
<td>黄金</td>
<td>Diamonds and gold last for ever,and so will our love</td>
</tr>
<tr>
<td>day by day</td>
<td>每天逐渐往某个方向前进</td>
<td>He’s getting better day by day</td>
</tr>
<tr>
<td>day after day</td>
<td>重复每天不变</td>
<td>I’m sick of working day after day</td>
</tr>
</tbody></table>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/单词/">单词</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="blog-go-big-or-go-home-21" class="article article-type-blog" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/04/05/go-big-or-go-home-21/"
    >go big or go home-21</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/04/05/go-big-or-go-home-21/" class="article-date">
  <time datetime="2020-04-05T14:30:50.000Z" itemprop="datePublished">2020-04-05</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/English/">English</a>
  </div>

      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <table>
<thead>
<tr>
<th>单词/短语</th>
<th>中文</th>
<th>句子</th>
</tr>
</thead>
<tbody><tr>
<td>vertical</td>
<td>垂直的</td>
<td>The boy found the only vertical tree in the woods</td>
</tr>
<tr>
<td>extraordinary</td>
<td>非同寻常的</td>
<td>The teacher said my daughter has extraordinary musical talent</td>
</tr>
<tr>
<td>object</td>
<td>物体</td>
<td>UFO is the short form of Unidentified Flying Object</td>
</tr>
<tr>
<td>ahead</td>
<td>领先</td>
<td>I am running ahead of the rest of the group</td>
</tr>
<tr>
<td>for ever</td>
<td>永远</td>
<td>Diamonds and gold last for ever, and so will our love</td>
</tr>
<tr>
<td>tip</td>
<td>小费</td>
<td>I paid $5 to the waiter for tip</td>
</tr>
<tr>
<td>barber</td>
<td>理发师</td>
<td>I asked my barber to give me a new style this time</td>
</tr>
<tr>
<td>coronavirus</td>
<td>冠状病毒</td>
<td></td>
</tr>
<tr>
<td>western restaurant</td>
<td>西餐厅</td>
<td></td>
</tr>
<tr>
<td>dining table</td>
<td>餐桌(正餐)</td>
<td></td>
</tr>
<tr>
<td>6 o’clock sharp</td>
<td>六点整</td>
<td></td>
</tr>
<tr>
<td>half past 10</td>
<td>十点半</td>
<td></td>
</tr>
<tr>
<td>a quarter past 10</td>
<td>十点十五</td>
<td></td>
</tr>
<tr>
<td>make a reservation</td>
<td>预定(还没有预订)</td>
<td></td>
</tr>
<tr>
<td>have a reservation</td>
<td>预定(已经预订了)</td>
<td></td>
</tr>
<tr>
<td>book a table</td>
<td>预定一个位置</td>
<td></td>
</tr>
<tr>
<td>breakfast</td>
<td>早餐，注意没有r</td>
<td></td>
</tr>
<tr>
<td>have…for dinner</td>
<td>晚餐吃什么</td>
<td>I have fruit for dinner</td>
</tr>
<tr>
<td>receptionist</td>
<td>前台</td>
<td></td>
</tr>
<tr>
<td>Certainly</td>
<td>当然</td>
<td></td>
</tr>
<tr>
<td>I’d like to</td>
<td>想要，不是命令</td>
<td></td>
</tr>
<tr>
<td>I want to</td>
<td>想要，带有命令</td>
<td></td>
</tr>
<tr>
<td>Ms</td>
<td>/miz/</td>
<td>you don’t know</td>
</tr>
<tr>
<td>Miss</td>
<td>/mis/</td>
<td>unmarried</td>
</tr>
<tr>
<td>Mrs</td>
<td>/misiz/</td>
<td>married</td>
</tr>
<tr>
<td>on</td>
<td>具体的一天</td>
<td>on Saturday</td>
</tr>
<tr>
<td>in</td>
<td>范围</td>
<td>in Spring</td>
</tr>
<tr>
<td>at</td>
<td>具体时刻</td>
<td>at 7o’clock</td>
</tr>
</tbody></table>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/单词/">单词</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="blog-redis系列-Redission分布式锁验证-踩坑" class="article article-type-blog" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/04/05/redis系列-Redission分布式锁验证-踩坑/"
    >redis系列-Redisson分布式锁验证+踩坑</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/04/05/redis系列-Redission分布式锁验证-踩坑/" class="article-date">
  <time datetime="2020-04-05T14:01:37.000Z" itemprop="datePublished">2020-04-05</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/redis/">redis</a>
  </div>

      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <h3 id="本篇来验证一下Redisson框架，分布式锁，底层其实就是Lua脚本，setnx-expire封装原子性操作，上代码"><a href="#本篇来验证一下Redisson框架，分布式锁，底层其实就是Lua脚本，setnx-expire封装原子性操作，上代码" class="headerlink" title="本篇来验证一下Redisson框架，分布式锁，底层其实就是Lua脚本，setnx+expire封装原子性操作，上代码"></a>本篇来验证一下Redisson框架，分布式锁，底层其实就是Lua脚本，setnx+expire封装原子性操作，上代码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.redisson&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;redisson&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;3.11.1&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Description</span>: 秒杀商品接口, 这里为了测试就手动创建三个线程</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> JsonObject</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@exception</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@author</span> mazhq</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@date</span> 2018/11/18 13:46</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">kill</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> time = System.currentTimeMillis() + TIMEOUT;</span><br><span class="line">        RLock lock=</span><br><span class="line">                redissonClient.getLock(KEY);</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            Thread a = <span class="keyword">new</span> Thread()&#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                    Thread.currentThread().setName(<span class="string">"线程1"</span>);</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        <span class="keyword">boolean</span> isSuccess=lock.tryLock(<span class="number">0</span>,<span class="number">1</span>, TimeUnit.SECONDS);</span><br><span class="line">                        <span class="keyword">if</span> (isSuccess)&#123;</span><br><span class="line">                            log.info(Thread.currentThread().getName()+<span class="string">"获得锁，开始秒杀"</span>);</span><br><span class="line">                            redisUtil.sub(KEY_NUM);</span><br><span class="line">                        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                            log.info(Thread.currentThread().getName()+<span class="string">"强锁失败"</span>);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                        log.info(Thread.currentThread().getName()+<span class="string">"强锁异常"</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;;</span><br><span class="line">            Thread b = <span class="keyword">new</span> Thread()&#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                    Thread.currentThread().setName(<span class="string">"线程2"</span>);</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        <span class="keyword">boolean</span> isSuccess=lock.tryLock(<span class="number">0</span>,<span class="number">1</span>, TimeUnit.SECONDS);</span><br><span class="line">                        <span class="keyword">if</span> (isSuccess)&#123;</span><br><span class="line">                            log.info(Thread.currentThread().getName()+<span class="string">"获得锁，开始秒杀"</span>);</span><br><span class="line">                            redisUtil.sub(KEY_NUM);</span><br><span class="line">                        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                            log.info(Thread.currentThread().getName()+<span class="string">"强锁失败"</span>);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                        log.info(Thread.currentThread().getName()+<span class="string">"强锁异常"</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;;</span><br><span class="line">            Thread c = <span class="keyword">new</span> Thread()&#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                    Thread.currentThread().setName(<span class="string">"线程3"</span>);</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        <span class="keyword">boolean</span> isSuccess=lock.tryLock(<span class="number">0</span>,<span class="number">1</span>, TimeUnit.SECONDS);</span><br><span class="line">                        <span class="keyword">if</span> (isSuccess)&#123;</span><br><span class="line">                            log.info(Thread.currentThread().getName()+<span class="string">"获得锁，开始秒杀"</span>);</span><br><span class="line">                            redisUtil.sub(KEY_NUM);</span><br><span class="line">                        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                            log.info(Thread.currentThread().getName()+<span class="string">"强锁失败"</span>);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                        log.info(Thread.currentThread().getName()+<span class="string">"强锁异常"</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;;</span><br><span class="line">            a.start();</span><br><span class="line">            b.start();</span><br><span class="line">            c.start();</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">            log.info(<span class="string">"--------"</span>);</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            lock.unlock();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="string">"111"</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 插入</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> num</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insert</span><span class="params">(String key,String num)</span></span>&#123;</span><br><span class="line">        ValueOperations&lt;String, String&gt; opsForValue</span><br><span class="line">                =stringRedisTemplate.opsForValue();</span><br><span class="line">        opsForValue.set(key,num);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 库存减1</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sub</span><span class="params">(String key)</span></span>&#123;</span><br><span class="line">        stringRedisTemplate.opsForValue().increment(key, -<span class="number">1</span>);</span><br><span class="line">        log.info(<span class="string">"当前剩余库存"</span>+stringRedisTemplate.opsForValue().get(key));</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="重点是RedissonClinet如何注入，如果不手动配置的话会出现注入Bean失败-这篇博客写的很详细，可以看一下"><a href="#重点是RedissonClinet如何注入，如果不手动配置的话会出现注入Bean失败-这篇博客写的很详细，可以看一下" class="headerlink" title="重点是RedissonClinet如何注入，如果不手动配置的话会出现注入Bean失败,这篇博客写的很详细，可以看一下"></a>重点是RedissonClinet如何注入，如果不手动配置的话会出现注入Bean失败,这篇博客写的很详细，可以看一下</h3><p><a href="https://blog.csdn.net/zilong_zilong/article/details/78252037" target="_blank" rel="noopener">https://blog.csdn.net/zilong_zilong/article/details/78252037</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 这里使用了单节点，还有集群模式，哨兵模式，种类很多config.useSingleServer</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RedissonClinetConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> RedissonClient <span class="title">redissonClient</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Config config=<span class="keyword">new</span> Config();</span><br><span class="line">        config.useSingleServer().setAddress(<span class="string">"redis://127.0.0.1:6379"</span>)</span><br><span class="line">                .setConnectionPoolSize(<span class="number">500</span>)</span><br><span class="line">                .setIdleConnectionTimeout(<span class="number">10000</span>)</span><br><span class="line">                .setConnectTimeout(<span class="number">30000</span>)</span><br><span class="line">                .setTimeout(<span class="number">3000</span>);</span><br><span class="line"></span><br><span class="line">        RedissonClient redisson=Redisson.create(config);</span><br><span class="line">        <span class="keyword">return</span> redisson;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="先将key-num-设置为10000，然后在postman上调用请求，这里设置为20次，间隔1s，正好与锁的过期时间一致，保证三个线程里每次都有秒杀成功"><a href="#先将key-num-设置为10000，然后在postman上调用请求，这里设置为20次，间隔1s，正好与锁的过期时间一致，保证三个线程里每次都有秒杀成功" class="headerlink" title="先将key-num 设置为10000，然后在postman上调用请求，这里设置为20次，间隔1s，正好与锁的过期时间一致，保证三个线程里每次都有秒杀成功"></a>先将key-num 设置为10000，然后在postman上调用请求，这里设置为20次，间隔1s，正好与锁的过期时间一致，保证三个线程里每次都有秒杀成功</h3><p><img src="../image/kill.png" alt="kill.png" title="kill"></p>
<p><img src="../image/begin.png" alt="begin.png" title="begin"></p>
<p><img src="../image/end.png" alt="end.png" title="end"></p>
<h3 id="我们来验证下"><a href="#我们来验证下" class="headerlink" title="我们来验证下"></a>我们来验证下</h3><p><img src="../image/check.png" alt="check.png" title="check"></p>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Redisson框架/">Redisson框架</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/redis分布式锁/">redis分布式锁</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="blog-redis系列-实现一个延时消费队列" class="article article-type-blog" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/04/05/redis系列-实现一个延时消费队列/"
    >redis系列-实现一个延时消费队列</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/04/05/redis系列-实现一个延时消费队列/" class="article-date">
  <time datetime="2020-04-05T13:49:30.000Z" itemprop="datePublished">2020-04-05</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/redis/">redis</a>
  </div>

      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <h3 id="用Zset和Hash实现一个延时队列，话不多说，附上代码"><a href="#用Zset和Hash实现一个延时队列，话不多说，附上代码" class="headerlink" title="用Zset和Hash实现一个延时队列，话不多说，附上代码"></a>用Zset和Hash实现一个延时队列，话不多说，附上代码</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RedisUtil</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    StringRedisTemplate stringRedisTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insertToRank</span><span class="params">(String id, String msg, String isNow)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">double</span> score=<span class="keyword">this</span>.getScore(isNow);</span><br><span class="line">        String uuid=UUID.randomUUID().toString().replaceAll(<span class="string">"-"</span>, <span class="string">""</span>);</span><br><span class="line">        HashOperations&lt;String, Object, Object&gt; opsForHash=</span><br><span class="line">                stringRedisTemplate.opsForHash();</span><br><span class="line">        Map&lt;String, String&gt; map=<span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        map.put(<span class="string">"id"</span>, id);</span><br><span class="line">        map.put(<span class="string">"msg"</span>, msg);</span><br><span class="line">        opsForHash.putAll(Constant.KEY_HASH + uuid, map);</span><br><span class="line">        <span class="keyword">this</span>.insertZset(uuid, score);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 插入zset，按照score排序</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> score</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insertZset</span><span class="params">(String key, <span class="keyword">double</span> score)</span> </span>&#123;</span><br><span class="line">        ZSetOperations&lt;String, String&gt; opsForZSet=</span><br><span class="line">                stringRedisTemplate.opsForZSet();</span><br><span class="line">        opsForZSet.add(Constant.KEY_ZSET, key, score);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 获取当前时间</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> isNow is时表示实时消息，放入zset前面</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">double</span> <span class="title">getScore</span><span class="params">(String isNow)</span> </span>&#123;</span><br><span class="line">        Date nowTime=<span class="keyword">new</span> Date(System.currentTimeMillis());</span><br><span class="line">        SimpleDateFormat simpleDateFormat=<span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyyMMddHHmmss"</span>);</span><br><span class="line">        String now=simpleDateFormat.format(nowTime);</span><br><span class="line">        <span class="keyword">if</span> (<span class="string">"is"</span>.equals(isNow)) &#123;</span><br><span class="line">            <span class="keyword">return</span> Double.parseDouble(now.substring(<span class="number">0</span>, <span class="number">12</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> Double.parseDouble(now);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 抢锁</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> value</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> timeOut</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">tryLock</span><span class="params">(String key, String value, <span class="keyword">long</span> timeOut)</span> </span>&#123;</span><br><span class="line">        Boolean isSuccess=stringRedisTemplate.opsForValue().setIfAbsent(key, value);</span><br><span class="line">        <span class="keyword">if</span> (isSuccess) &#123;</span><br><span class="line">            stringRedisTemplate.expire(key, timeOut, TimeUnit.MINUTES);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> isSuccess;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 释放锁</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">delLock</span><span class="params">(String key)</span></span>&#123;</span><br><span class="line">        stringRedisTemplate.delete(key);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 获取zset第一条数据</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getFirstData</span><span class="params">(String key)</span> </span>&#123;</span><br><span class="line">        ZSetOperations&lt;String, String&gt; opsForZSet=stringRedisTemplate.opsForZSet();</span><br><span class="line">        Set&lt;String&gt; range=opsForZSet.range(key, <span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span> (!CollectionUtils.isEmpty(range)) &#123;</span><br><span class="line">            String uuid = range.iterator().next();</span><br><span class="line">            opsForZSet.remove(key,uuid);</span><br><span class="line">            <span class="keyword">return</span> uuid;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 查询当前Zset多少个数据</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Long <span class="title">getZsetSize</span><span class="params">(String key)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> stringRedisTemplate.opsForZSet().zCard(key);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 获取hash数据</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Map&lt;String,Object&gt; <span class="title">getHashData</span><span class="params">(String key)</span></span>&#123;</span><br><span class="line">        HashOperations&lt;String, Object, Object&gt; opsForHash=stringRedisTemplate.opsForHash();</span><br><span class="line">        Object id=opsForHash.get(key, <span class="string">"id"</span>);</span><br><span class="line">        Object msg=opsForHash.get(key, <span class="string">"msg"</span>);</span><br><span class="line">        Map&lt;String,Object&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        map.put(<span class="string">"id"</span>,id);</span><br><span class="line">        map.put(<span class="string">"msg"</span>,msg);</span><br><span class="line">        <span class="keyword">return</span> map;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Async</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sendMsg</span><span class="params">(CountDownLatch countDownLatch,String uuid)</span></span>&#123;</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            Map&lt;String, Object&gt; hashData=<span class="keyword">this</span>.getHashData(Constant.KEY_HASH + uuid);</span><br><span class="line">            log.info(<span class="string">"开始发送"</span>+hashData.get(<span class="string">"id"</span>)+<span class="string">"消息: "</span>+hashData.get(<span class="string">"msg"</span>));</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">            log.info(<span class="string">"e:&#123;&#125;"</span>,e);</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            countDownLatch.countDown();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 插入</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> num</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insert</span><span class="params">(String key,String num)</span></span>&#123;</span><br><span class="line">        ValueOperations&lt;String, String&gt; opsForValue</span><br><span class="line">                =stringRedisTemplate.opsForValue();</span><br><span class="line">        opsForValue.set(key,num);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sub</span><span class="params">(String key)</span></span>&#123;</span><br><span class="line">        stringRedisTemplate.opsForValue().increment(key, -<span class="number">1</span>);</span><br><span class="line">        log.info(<span class="string">"当前剩余库存"</span>+stringRedisTemplate.opsForValue().get(key));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="用定时任务去消费，这里有一个问题，对定时任务使用分布式锁是为了避免定时任务如果部署在两台机器上重复执行，保证每次只有一台机器执行，但有个问题，如果是Redis-Cluster模式是没有问题，但如果是哨兵模式或者一主二从模式，slave是不允许写入的，因为我们涉及到了将zset中的数据删除，所以会报错，但如果你的定时任务只是读，那么就没有问题，但如果涉及写-注意删除也是写的一种-，那么就要注意是不是cluster模式。"><a href="#用定时任务去消费，这里有一个问题，对定时任务使用分布式锁是为了避免定时任务如果部署在两台机器上重复执行，保证每次只有一台机器执行，但有个问题，如果是Redis-Cluster模式是没有问题，但如果是哨兵模式或者一主二从模式，slave是不允许写入的，因为我们涉及到了将zset中的数据删除，所以会报错，但如果你的定时任务只是读，那么就没有问题，但如果涉及写-注意删除也是写的一种-，那么就要注意是不是cluster模式。" class="headerlink" title="用定时任务去消费，这里有一个问题，对定时任务使用分布式锁是为了避免定时任务如果部署在两台机器上重复执行，保证每次只有一台机器执行，但有个问题，如果是Redis Cluster模式是没有问题，但如果是哨兵模式或者一主二从模式，slave是不允许写入的，因为我们涉及到了将zset中的数据删除，所以会报错，但如果你的定时任务只是读，那么就没有问题，但如果涉及写(注意删除也是写的一种)，那么就要注意是不是cluster模式。"></a>用定时任务去消费，这里有一个问题，对定时任务使用分布式锁是为了避免定时任务如果部署在两台机器上重复执行，保证每次只有一台机器执行，但有个问题，如果是Redis Cluster模式是没有问题，但如果是哨兵模式或者一主二从模式，slave是不允许写入的，因为我们涉及到了将zset中的数据删除，所以会报错，但如果你的定时任务只是读，那么就没有问题，但如果涉及写(注意删除也是写的一种)，那么就要注意是不是cluster模式。</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TaskRedis</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> RedisUtil redisUtil;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Scheduled</span>(cron=<span class="string">"0 */1 * * * ?"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sendMsg</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">boolean</span> b=redisUtil.tryLock(Constant.KEY_LOCK, <span class="string">"1"</span>, <span class="number">5</span>);</span><br><span class="line">        <span class="keyword">if</span> (!b) &#123;</span><br><span class="line">            log.info(<span class="string">"抢锁失败"</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Long zsetSize=redisUtil.getZsetSize(Constant.KEY_ZSET);</span><br><span class="line">            <span class="keyword">if</span> (zsetSize == <span class="number">0L</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span> ;</span><br><span class="line">            &#125;</span><br><span class="line">            CountDownLatch countDownLatch=<span class="keyword">new</span> CountDownLatch(<span class="number">500</span>);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i &lt; zsetSize; i++) &#123;</span><br><span class="line">                String uuid=redisUtil.getFirstData(Constant.KEY_ZSET);</span><br><span class="line">                redisUtil.sendMsg(countDownLatch, uuid);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                countDownLatch.await(<span class="number">50L</span>, TimeUnit.SECONDS);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                log.info(<span class="string">"e:&#123;&#125;"</span>, e);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            log.info(<span class="string">"e:&#123;&#125;"</span>, e);</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            redisUtil.delLock(Constant.KEY_LOCK);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="这是Controller"><a href="#这是Controller" class="headerlink" title="这是Controller"></a>这是Controller</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/redis"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RedisController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    RedisMsgService redisMsgService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/sendMsg"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">sendMsg</span><span class="params">(String id,String msg,String isNow)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> redisMsgService.sendMsg(id,msg,isNow);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/insert"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">insert</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> redisMsgService.insert();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/kill"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">kill</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> redisMsgService.kill();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="通过postman调用测试"><a href="#通过postman调用测试" class="headerlink" title="通过postman调用测试"></a>通过postman调用测试</h3><p><img src="../image/postman.png" alt="postman.png" title="postman"></p>
<h3 id="控制台打印"><a href="#控制台打印" class="headerlink" title="控制台打印"></a>控制台打印</h3><p><img src="../image/sys.png" alt="sys.png" title="sys"></p>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/redis/">redis</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/延时队列/">延时队列</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
  </article>
  

  
  <nav class="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/2/">下一页</a>
  </nav>
  
</section>
</div>

      <footer class="footer">
  <div class="outer">
    <ul class="list-inline">
      <li>
        &copy;
        2015-2020
        Gavin
      </li>
      <li>
        
        Powered by
        
        
        <a href="https://hexo.io" target="_blank">Hexo</a> Theme <a href="https://github.com/Shen-Yu/hexo-theme-ayer" target="_blank">Ayer</a>
        
      </li>
    </ul>
    <ul class="list-inline">
      <li>
        
        
        <span>
  <i>PV:<span id="busuanzi_value_page_pv"></span></i>
  <i>UV:<span id="busuanzi_value_site_uv"></span></i>
</span>
        
      </li>
      
      <li>
        <!-- cnzz统计 -->
        
        <script type="text/javascript" src='https://s9.cnzz.com/z_stat.php?id=1278069914&amp;web_id=1278069914'></script>
        
      </li>
    </ul>
  </div>
</footer>
      <div class="float_btns">
        <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

      </div>
    </main>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/ayer-side.svg" alt="孙云龙的技术博客"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">归档</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">目录</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">标签</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/about">关于我</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="Search">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <script>
      if (window.matchMedia("(max-width: 768px)").matches) {
        document.querySelector('.content').classList.remove('on');
        document.querySelector('.sidebar').classList.remove('on');
      }
    </script>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>请我喝杯咖啡吧~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="/images/alipay.jpg">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="/images/wechat.jpg">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
</div>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/lazyload.min.js"></script>

<script>
  try {
    var typed = new Typed("#subtitle", {
      strings: ['面朝大海，春暖花开', '愿你一生努力，一生被爱', '想要的都拥有，得不到的都释怀'],
      startDelay: 0,
      typeSpeed: 200,
      loop: true,
      backSpeed: 100,
      showCursor: true
    });
  } catch (err) {
  }

</script>





<script src="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.css">
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js"></script>
<script src="/dist/main.js"></script>


<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css">
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script>




<script src="/js/busuanzi-2.3.pure.min.js"></script>


<script type="text/javascript" src="https://js.users.51.la/20544303.js"></script>


    
  </div>
</body>

</html>