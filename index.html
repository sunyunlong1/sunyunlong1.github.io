<!DOCTYPE html>


<html lang="en" >


<head>
  <meta charset="utf-8" />
    
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>
     孙云龙的技术博客
  </title>
  <meta name="generator" content="hexo-theme-yilia-plus">
  
  <link rel="shortcut icon" href="/favicon.ico" />
  
  <link rel="stylesheet" href="/dist/main.css">
  <link rel="stylesheet" href="/css/custom.css">
  
  <script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>
  
  

  

<link rel="alternate" href="/atom.xml" title="孙云龙的技术博客" type="application/atom+xml">
</head>

</html>

<body>
  <div id="app">
    <main class="content on">
      
<section class="cover">
    
  <div class="cover-frame">
    <div class="bg-box">
      <img src="/images/cover1.jpg" alt="image frame" />
    </div>
    <div class="cover-inner text-center text-white">
      <h1><a href="/">孙云龙的技术博客</a></h1>
      <div id="subtitle-box">
        
        <span id="subtitle"></span>
        
      </div>
      <div>
        
      </div>
    </div>
  </div>
  <div class="cover-learn-more">
    <a href="javascript:void(0)" class="anchor"><i class="ri-arrow-down-line"></i></a>
  </div>
</section>



<script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js"></script>

<div id="main">
  <section class="outer">
  <article class="articles">
    
    
    
    
    <article id="blog-《深入理解Java虚拟机》第三章垃圾收集器与内存分配策略" class="article article-type-blog" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/04/22/《深入理解Java虚拟机》第三章垃圾收集器与内存分配策略/"
    >《深入理解Java虚拟机》第三章垃圾收集器与内存分配策略</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/04/22/《深入理解Java虚拟机》第三章垃圾收集器与内存分配策略/" class="article-date">
  <time datetime="2020-04-22T15:48:45.000Z" itemprop="datePublished">2020-04-22</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/JVM/">JVM</a>
  </div>

      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <h2 id="第一部分-对象已死吗？"><a href="#第一部分-对象已死吗？" class="headerlink" title="第一部分:对象已死吗？"></a>第一部分:对象已死吗？</h2><h3 id="1-1-引用计数算法"><a href="#1-1-引用计数算法" class="headerlink" title="1.1 引用计数算法"></a>1.1 引用计数算法</h3><h4 id="引用计数算法：指的是给对象添加一个引用计数器，每当有一个地方引用它的时候，计数器就-1，当引用失效时，计数器就-1，这样就会出现一个问题，无法判断互相引用的对象已死。"><a href="#引用计数算法：指的是给对象添加一个引用计数器，每当有一个地方引用它的时候，计数器就-1，当引用失效时，计数器就-1，这样就会出现一个问题，无法判断互相引用的对象已死。" class="headerlink" title="引用计数算法：指的是给对象添加一个引用计数器，每当有一个地方引用它的时候，计数器就+1，当引用失效时，计数器就-1，这样就会出现一个问题，无法判断互相引用的对象已死。"></a>引用计数算法：指的是给对象添加一个引用计数器，每当有一个地方引用它的时候，计数器就+1，当引用失效时，计数器就-1，这样就会出现一个问题，无法判断互相引用的对象已死。</h4><p>//互相引用.png</p>
<h3 id="1-2-可达性分析算法"><a href="#1-2-可达性分析算法" class="headerlink" title="1.2 可达性分析算法"></a>1.2 可达性分析算法</h3><h4 id="可达性分析算法：引入了GC-Roots对象，从GC-Roots到这个对象不可达时，则证明这个对象是不可用的，如图object5，object6-objecct7来说，虽然互相有关联，但是它们到GC-Roots是不可达的，所以他们会被判断为是可回收的对象。"><a href="#可达性分析算法：引入了GC-Roots对象，从GC-Roots到这个对象不可达时，则证明这个对象是不可用的，如图object5，object6-objecct7来说，虽然互相有关联，但是它们到GC-Roots是不可达的，所以他们会被判断为是可回收的对象。" class="headerlink" title="可达性分析算法：引入了GC Roots对象，从GC Roots到这个对象不可达时，则证明这个对象是不可用的，如图object5，object6,objecct7来说，虽然互相有关联，但是它们到GC Roots是不可达的，所以他们会被判断为是可回收的对象。"></a>可达性分析算法：引入了GC Roots对象，从GC Roots到这个对象不可达时，则证明这个对象是不可用的，如图object5，object6,objecct7来说，虽然互相有关联，但是它们到GC Roots是不可达的，所以他们会被判断为是可回收的对象。</h4><h4 id="1-2-1-那么什么样的对象可以作为GC-Roots对象呢？"><a href="#1-2-1-那么什么样的对象可以作为GC-Roots对象呢？" class="headerlink" title="1.2.1 那么什么样的对象可以作为GC Roots对象呢？"></a>1.2.1 那么什么样的对象可以作为GC Roots对象呢？</h4><p>《深入理解Java虚拟机》书中给出的定义是：</p>
<ol>
<li>虚拟机栈中引用的对象</li>
<li>方法区中类静态属性引用的对象</li>
<li>方法区中常量引用的对象</li>
<li>本地方法栈中引用的对象</li>
</ol>
<h3 id="1-3-在谈引用"><a href="#1-3-在谈引用" class="headerlink" title="1.3 在谈引用"></a>1.3 在谈引用</h3><ol>
<li>强引用：在代码中普遍存在的，类似“Object obj = new Object()”,这类的引用，只要强引用还存在，垃圾收集器永远不会回收掉这类对象</li>
<li>软引用：总结起来就是当内存不够发生GC时才会回收的对象。JDK1.2之后，提供了SoftReference类来实现软引用。</li>
<li>弱引用：被弱引用关联的对象，只能存活到下一次发生垃圾回收之前，当垃圾收集器工作时，无论当前内存是否足够，都会回收掉只被弱引用关联的对象。</li>
<li>虚引用：是一种最弱的引用关系，存在的意义只是在这个对象被收集器回收时收到一个系统通知。</li>
</ol>
<h3 id="1-4死之前的“HP药水”"><a href="#1-4死之前的“HP药水”" class="headerlink" title="1.4死之前的“HP药水”"></a>1.4死之前的“HP药水”</h3><h4 id="1-4-1-即使在可达性分析算法中不可达的对象，也并不是“非死不可”，这时候处于濒危状态，但他们还有一瓶HP药水，那就是finalize-方法，要真正宣告一个对象死亡，至少要经历两次标记过程：如果对象在进行可达性分析后发现没有与GC-Roots相连接的引用链，那它将会第一次标记并且进行一次筛选，筛选的条件时此对象是否有必要执行finalize-方法。当对象没有覆盖finalize-方法，或者finalize-方法已经被虚拟机调用过，虚拟机将这两种情况都视为“没有必要执行”。"><a href="#1-4-1-即使在可达性分析算法中不可达的对象，也并不是“非死不可”，这时候处于濒危状态，但他们还有一瓶HP药水，那就是finalize-方法，要真正宣告一个对象死亡，至少要经历两次标记过程：如果对象在进行可达性分析后发现没有与GC-Roots相连接的引用链，那它将会第一次标记并且进行一次筛选，筛选的条件时此对象是否有必要执行finalize-方法。当对象没有覆盖finalize-方法，或者finalize-方法已经被虚拟机调用过，虚拟机将这两种情况都视为“没有必要执行”。" class="headerlink" title="1.4.1 即使在可达性分析算法中不可达的对象，也并不是“非死不可”，这时候处于濒危状态，但他们还有一瓶HP药水，那就是finalize()方法，要真正宣告一个对象死亡，至少要经历两次标记过程：如果对象在进行可达性分析后发现没有与GC Roots相连接的引用链，那它将会第一次标记并且进行一次筛选，筛选的条件时此对象是否有必要执行finalize()方法。当对象没有覆盖finalize()方法，或者finalize()方法已经被虚拟机调用过，虚拟机将这两种情况都视为“没有必要执行”。"></a>1.4.1 即使在可达性分析算法中不可达的对象，也并不是“非死不可”，这时候处于濒危状态，但他们还有一瓶HP药水，那就是finalize()方法，要真正宣告一个对象死亡，至少要经历两次标记过程：如果对象在进行可达性分析后发现没有与GC Roots相连接的引用链，那它将会第一次标记并且进行一次筛选，筛选的条件时此对象是否有必要执行finalize()方法。当对象没有覆盖finalize()方法，或者finalize()方法已经被虚拟机调用过，虚拟机将这两种情况都视为“没有必要执行”。</h4><h4 id="1-4-2-如果这个对象被判定为有必要执行finalize-方法，那么这个对象将会被放置在一个叫做F-Queue的队列之中，并在稍后由一个虚拟机自动建立的，低优先级的Finalizer线程去执行它。这里所谓的“执行”是指虚拟机会触发这个方法，但并不承诺会等待它运行结束，这样做的原因是，如果在finalize-方法中执行缓慢，或者发生了死循环，将很可能会导致F-Queue队列中其他的对象永久处于等待。"><a href="#1-4-2-如果这个对象被判定为有必要执行finalize-方法，那么这个对象将会被放置在一个叫做F-Queue的队列之中，并在稍后由一个虚拟机自动建立的，低优先级的Finalizer线程去执行它。这里所谓的“执行”是指虚拟机会触发这个方法，但并不承诺会等待它运行结束，这样做的原因是，如果在finalize-方法中执行缓慢，或者发生了死循环，将很可能会导致F-Queue队列中其他的对象永久处于等待。" class="headerlink" title="1.4.2 如果这个对象被判定为有必要执行finalize()方法，那么这个对象将会被放置在一个叫做F-Queue的队列之中，并在稍后由一个虚拟机自动建立的，低优先级的Finalizer线程去执行它。这里所谓的“执行”是指虚拟机会触发这个方法，但并不承诺会等待它运行结束，这样做的原因是，如果在finalize()方法中执行缓慢，或者发生了死循环，将很可能会导致F-Queue队列中其他的对象永久处于等待。"></a>1.4.2 如果这个对象被判定为有必要执行finalize()方法，那么这个对象将会被放置在一个叫做F-Queue的队列之中，并在稍后由一个虚拟机自动建立的，低优先级的Finalizer线程去执行它。这里所谓的“执行”是指虚拟机会触发这个方法，但并不承诺会等待它运行结束，这样做的原因是，如果在finalize()方法中执行缓慢，或者发生了死循环，将很可能会导致F-Queue队列中其他的对象永久处于等待。</h4><h4 id="1-4-3-如果对象要在finalize-中拯救自己-只需要重新与引用连上的任何一个对象建立关联即可。"><a href="#1-4-3-如果对象要在finalize-中拯救自己-只需要重新与引用连上的任何一个对象建立关联即可。" class="headerlink" title="1.4.3 如果对象要在finalize()中拯救自己-只需要重新与引用连上的任何一个对象建立关联即可。"></a>1.4.3 如果对象要在finalize()中拯救自己-只需要重新与引用连上的任何一个对象建立关联即可。</h4><h2 id="第二部分-GC场所"><a href="#第二部分-GC场所" class="headerlink" title="第二部分:GC场所"></a>第二部分:GC场所</h2><h3 id="1-堆作为垃圾回收的主要场所，所有新建的对象都存储在堆上，但栈并不会发生垃圾回收，因为栈中存储的是线程私有的，随着线程关闭就自动释放。将堆中的内存分为新生代和老年代，这里在后面谈到垃圾回收算法时会详细说。"><a href="#1-堆作为垃圾回收的主要场所，所有新建的对象都存储在堆上，但栈并不会发生垃圾回收，因为栈中存储的是线程私有的，随着线程关闭就自动释放。将堆中的内存分为新生代和老年代，这里在后面谈到垃圾回收算法时会详细说。" class="headerlink" title="1.堆作为垃圾回收的主要场所，所有新建的对象都存储在堆上，但栈并不会发生垃圾回收，因为栈中存储的是线程私有的，随着线程关闭就自动释放。将堆中的内存分为新生代和老年代，这里在后面谈到垃圾回收算法时会详细说。"></a>1.堆作为垃圾回收的主要场所，所有新建的对象都存储在堆上，但栈并不会发生垃圾回收，因为栈中存储的是线程私有的，随着线程关闭就自动释放。将堆中的内存分为新生代和老年代，这里在后面谈到垃圾回收算法时会详细说。</h3><h3 id="2-方法区-也叫永久代，针对HotSpot虚拟机来说-，很多人都认为方法区中时没有垃圾回收的，Java虚拟机规范中确实说过可以不要求虚拟机在方法区实现垃圾回收，主要是垃圾收集的“性价比”比较低"><a href="#2-方法区-也叫永久代，针对HotSpot虚拟机来说-，很多人都认为方法区中时没有垃圾回收的，Java虚拟机规范中确实说过可以不要求虚拟机在方法区实现垃圾回收，主要是垃圾收集的“性价比”比较低" class="headerlink" title="2.方法区(也叫永久代，针对HotSpot虚拟机来说)，很多人都认为方法区中时没有垃圾回收的，Java虚拟机规范中确实说过可以不要求虚拟机在方法区实现垃圾回收，主要是垃圾收集的“性价比”比较低"></a>2.方法区(也叫永久代，针对HotSpot虚拟机来说)，很多人都认为方法区中时没有垃圾回收的，Java虚拟机规范中确实说过可以不要求虚拟机在方法区实现垃圾回收，主要是垃圾收集的“性价比”比较低</h3><h3 id="方法区的垃圾回收主要回收两部分内容：废弃常量和无用的类。那么如何判断废弃常量和无用的类？"><a href="#方法区的垃圾回收主要回收两部分内容：废弃常量和无用的类。那么如何判断废弃常量和无用的类？" class="headerlink" title="方法区的垃圾回收主要回收两部分内容：废弃常量和无用的类。那么如何判断废弃常量和无用的类？"></a>方法区的垃圾回收主要回收两部分内容：废弃常量和无用的类。那么如何判断废弃常量和无用的类？</h3><h4 id="2-1-废弃常量：假如一个字符串“abc”-放入了常量池，只要当前系统中没有有任何一个String对象引用常量池中的“abc”常量，如果这个时候发生了内存回收，而且必要的话，那么这个“abc”常量就会被系统清理出常量池。"><a href="#2-1-废弃常量：假如一个字符串“abc”-放入了常量池，只要当前系统中没有有任何一个String对象引用常量池中的“abc”常量，如果这个时候发生了内存回收，而且必要的话，那么这个“abc”常量就会被系统清理出常量池。" class="headerlink" title="2.1 废弃常量：假如一个字符串“abc”,放入了常量池，只要当前系统中没有有任何一个String对象引用常量池中的“abc”常量，如果这个时候发生了内存回收，而且必要的话，那么这个“abc”常量就会被系统清理出常量池。"></a>2.1 废弃常量：假如一个字符串“abc”,放入了常量池，只要当前系统中没有有任何一个String对象引用常量池中的“abc”常量，如果这个时候发生了内存回收，而且必要的话，那么这个“abc”常量就会被系统清理出常量池。</h4><h4 id="2-2-无用的类："><a href="#2-2-无用的类：" class="headerlink" title="2.2 无用的类："></a>2.2 无用的类：</h4><ol>
<li>该类所有的实例都已经被回收，也就是Java堆中不存在该类的任何实例。</li>
<li>加载该类的ClassLoader已经被回收。</li>
<li>该类对象的java.lang.Class对象没有在任何地方被引用，无法在任何地方通过反射访问该类的方法。</li>
</ol>
<h2 id="第三部分-垃圾回收算法"><a href="#第三部分-垃圾回收算法" class="headerlink" title="第三部分:垃圾回收算法"></a>第三部分:垃圾回收算法</h2><h3 id="3-1-标记清除算法"><a href="#3-1-标记清除算法" class="headerlink" title="3.1 标记清除算法"></a>3.1 标记清除算法</h3><h3 id="3-2-复制算法"><a href="#3-2-复制算法" class="headerlink" title="3.2 复制算法"></a>3.2 复制算法</h3><h3 id="3-3-标记-整理算法"><a href="#3-3-标记-整理算法" class="headerlink" title="3.3 标记-整理算法"></a>3.3 标记-整理算法</h3><h3 id="3-4-分代收集算法"><a href="#3-4-分代收集算法" class="headerlink" title="3.4 分代收集算法"></a>3.4 分代收集算法</h3><h2 id="第四部分-内存分配"><a href="#第四部分-内存分配" class="headerlink" title="第四部分:内存分配"></a>第四部分:内存分配</h2><h3 id="4-1-新生代，老年代"><a href="#4-1-新生代，老年代" class="headerlink" title="4.1 新生代，老年代"></a>4.1 新生代，老年代</h3><p>//内存展示.png</p>
<h3 id="4-2-Minor-GC和Full-GC"><a href="#4-2-Minor-GC和Full-GC" class="headerlink" title="4.2 Minor GC和Full GC"></a>4.2 Minor GC和Full GC</h3><h3 id="4-3-为什么新生代中有两个Survivor？"><a href="#4-3-为什么新生代中有两个Survivor？" class="headerlink" title="4.3 为什么新生代中有两个Survivor？"></a>4.3 为什么新生代中有两个Survivor？</h3>
      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/垃圾收集器与内存分配策略/">垃圾收集器与内存分配策略</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/深入理解Java虚拟机/">深入理解Java虚拟机</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="blog-go-big-or-go-home-38" class="article article-type-blog" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/04/22/go-big-or-go-home-38/"
    >go big or go home-38</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/04/22/go-big-or-go-home-38/" class="article-date">
  <time datetime="2020-04-22T14:23:19.000Z" itemprop="datePublished">2020-04-22</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/English/">English</a>
  </div>

      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <table>
<thead>
<tr>
<th>单词/短语</th>
<th>中文</th>
<th>句子</th>
</tr>
</thead>
<tbody><tr>
<td>call on</td>
<td>拜访</td>
<td>The family called on their neighbor on Christmas Day</td>
</tr>
<tr>
<td>dawn</td>
<td>黎明</td>
<td>The rooster standing on the field crows at dawn</td>
</tr>
<tr>
<td>laughter</td>
<td>笑</td>
<td>The hall is filled with the laughter of the audience</td>
</tr>
<tr>
<td>zip</td>
<td>拉链</td>
<td>I zip up my jeans pocket to keep my money safe</td>
</tr>
<tr>
<td>comprehension</td>
<td>理解力</td>
<td>There guys must have a high level of comprehension to understand this</td>
</tr>
<tr>
<td>shape</td>
<td>形状</td>
<td>The candle on the birthday cake is in the shape of a seven</td>
</tr>
<tr>
<td>grasp</td>
<td>抓住</td>
<td>The baby grasped mother’s finger</td>
</tr>
<tr>
<td>film</td>
<td>电影</td>
<td>The film has a happy ending</td>
</tr>
</tbody></table>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/单词/">单词</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="blog-go-big-or-go-home-37" class="article article-type-blog" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/04/21/go-big-or-go-home-37/"
    >go big or go home-37</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/04/21/go-big-or-go-home-37/" class="article-date">
  <time datetime="2020-04-21T14:55:37.000Z" itemprop="datePublished">2020-04-21</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/English/">English</a>
  </div>

      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <table>
<thead>
<tr>
<th>单词/短语</th>
<th>中文</th>
<th>句子</th>
</tr>
</thead>
<tbody><tr>
<td>famous</td>
<td>著名的</td>
<td>The lady is a famous actress</td>
</tr>
<tr>
<td>body building</td>
<td>健美</td>
<td>I do body building every day to make my muscles huge</td>
</tr>
<tr>
<td>constant</td>
<td>持续不断的</td>
<td>The constant noise from the construction site makes me crazy</td>
</tr>
<tr>
<td>smell</td>
<td>闻</td>
<td>The girl is smelling the pink flower with delight</td>
</tr>
<tr>
<td>a bit</td>
<td>一点点</td>
<td>There is only a bit of rice left in the pot</td>
</tr>
<tr>
<td>carpenter</td>
<td>木匠</td>
<td>The carpenter is making wooden furniture</td>
</tr>
<tr>
<td>abolish</td>
<td>废除</td>
<td>In the mid 1800s,slavery was abolished in America</td>
</tr>
<tr>
<td>church</td>
<td>教堂</td>
<td>The church is located in a beautiful suburb</td>
</tr>
<tr>
<td>glance</td>
<td>一瞥</td>
<td>She glanced at his computer screen to see what he was watching</td>
</tr>
</tbody></table>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/单词/">单词</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="blog-go-big-or-go-home-36" class="article article-type-blog" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/04/20/go-big-or-go-home-36/"
    >go big or go home-36</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/04/20/go-big-or-go-home-36/" class="article-date">
  <time datetime="2020-04-20T15:53:17.000Z" itemprop="datePublished">2020-04-20</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/English/">English</a>
  </div>

      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <table>
<thead>
<tr>
<th>单词/短语</th>
<th>中文</th>
<th>句子</th>
</tr>
</thead>
<tbody><tr>
<td>marble</td>
<td>大理石</td>
<td>The floor is made of marble</td>
</tr>
<tr>
<td>tortoise</td>
<td>乌龟</td>
<td>Look,the little tortoise is eating leaves</td>
</tr>
<tr>
<td>belong</td>
<td>属于</td>
<td>This girl belongs to me!</td>
</tr>
<tr>
<td>acknowledge</td>
<td>告知收到</td>
<td>Acknowledge,We will bake the bread soon</td>
</tr>
<tr>
<td>radiation</td>
<td>辐射物</td>
<td>Don’t get closer to radiation if you are not in protective suit</td>
</tr>
<tr>
<td>anyhow</td>
<td>无论如何</td>
<td>Someone has to wash the dishes anyhow,so I’ll do them</td>
</tr>
<tr>
<td>altitude</td>
<td>海拔</td>
<td>The altitude of this mountain in 8844 meters</td>
</tr>
<tr>
<td>make a toast</td>
<td>敬酒</td>
<td>-</td>
</tr>
<tr>
<td>blush</td>
<td>脸红</td>
<td>-</td>
</tr>
<tr>
<td>tequlia</td>
<td>龙舌兰</td>
<td>-</td>
</tr>
<tr>
<td>raise</td>
<td>举</td>
<td>-</td>
</tr>
<tr>
<td>mixologist</td>
<td>调酒师</td>
<td>-</td>
</tr>
<tr>
<td>bartender</td>
<td>调酒师</td>
<td>-</td>
</tr>
<tr>
<td>alcohol</td>
<td>酒精</td>
<td>-</td>
</tr>
<tr>
<td>rum</td>
<td>朗姆酒</td>
<td>-</td>
</tr>
<tr>
<td>gorgeous</td>
<td>美丽动人的</td>
<td>-</td>
</tr>
<tr>
<td>sake</td>
<td>日本清酒</td>
<td>-</td>
</tr>
</tbody></table>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/单词/">单词</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="blog-go-big-or-go-home-35" class="article article-type-blog" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/04/19/go-big-or-go-home-35/"
    >go big or go home-35</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/04/19/go-big-or-go-home-35/" class="article-date">
  <time datetime="2020-04-19T15:32:53.000Z" itemprop="datePublished">2020-04-19</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/English/">English</a>
  </div>

      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <table>
<thead>
<tr>
<th>单词/短语</th>
<th>中文</th>
<th>句子</th>
</tr>
</thead>
<tbody><tr>
<td>south</td>
<td>南方</td>
<td>A large number of birds fly south every winter</td>
</tr>
<tr>
<td>typhoon</td>
<td>台风</td>
<td>The typhoon destroyed many houses last year</td>
</tr>
<tr>
<td>rid</td>
<td>污点</td>
<td>The stain is gotten rid of easily</td>
</tr>
<tr>
<td>topic</td>
<td>话题</td>
<td>He wrote down a topic for us to discuss</td>
</tr>
<tr>
<td>get on</td>
<td>上车</td>
<td>Let’s get on the airplane</td>
</tr>
<tr>
<td>direction</td>
<td>方向</td>
<td>The man is asking a stranger for directions</td>
</tr>
<tr>
<td>survival</td>
<td>生存</td>
<td>He taught me survival skills,like how to start a fire in the forest</td>
</tr>
<tr>
<td>zebra</td>
<td>斑马</td>
<td>The zebras are running across the river</td>
</tr>
<tr>
<td>amateur</td>
<td>业余爱好者</td>
<td>The office worker is also an amateur soccer player</td>
</tr>
</tbody></table>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/单词/">单词</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="blog-《深入理解Java虚拟机》第二章-Java内存区域与内存溢出异常" class="article article-type-blog" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/04/19/《深入理解Java虚拟机》第二章-Java内存区域与内存溢出异常/"
    >《深入理解Java虚拟机》第二章 Java内存区域与内存溢出异常</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/04/19/《深入理解Java虚拟机》第二章-Java内存区域与内存溢出异常/" class="article-date">
  <time datetime="2020-04-19T13:58:19.000Z" itemprop="datePublished">2020-04-19</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/JVM/">JVM</a>
  </div>

      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <h3 id="此篇为第二章-Java内存区域与内存溢出异常，主要从两部分介绍"><a href="#此篇为第二章-Java内存区域与内存溢出异常，主要从两部分介绍" class="headerlink" title="此篇为第二章 Java内存区域与内存溢出异常，主要从两部分介绍"></a>此篇为第二章 Java内存区域与内存溢出异常，主要从两部分介绍</h3><h3 id="1-内存区域"><a href="#1-内存区域" class="headerlink" title="1.内存区域"></a>1.内存区域</h3><h3 id="话不多说，先上图"><a href="#话不多说，先上图" class="headerlink" title="话不多说，先上图"></a>话不多说，先上图</h3><p><img src="../image/%E5%86%85%E5%AD%98%E5%8C%BA%E5%9F%9F.png" alt="内存区域.png" title="内存区域"></p>
<h4 id="1-1方法区"><a href="#1-1方法区" class="headerlink" title="1.1方法区"></a>1.1方法区</h4><p>方法区（Method Area）与Java堆一样，是各个线程共享的内存区域，它用于存储已被虚拟机加载的类信息，常量，静态变量，即时编译器编译后的代码等数据，它有一个名字叫Non-heap非堆，目的是为了与Java堆区分开来，也有人叫它永久代，是因为它可以选择不实现垃圾收集，但并不是绝对的，只是说发生垃圾回收的概率比较低。</p>
<p>另：当方法区无法满足内存分配需求时，会抛出OutOfMemoryError异常。</p>
<p><strong>JDK1.7之后版本的JVM将运行时常量池从方法区移了出来，在Java堆中开辟了一块区域存放运行时常量池，在JDK1.8开始，取消了方法区，取而代之的是位于直接内存的元空间</strong></p>
<p><strong>使方法区内存溢出，可以死循环调用String.intern()方法，向常量池里无限添加常量，就会导致内存溢出</strong></p>
<h4 id="1-2虚拟机栈"><a href="#1-2虚拟机栈" class="headerlink" title="1.2虚拟机栈"></a>1.2虚拟机栈</h4><p>线程私有的，它的生命周期和线程相同，虚拟机栈描述的是Java方法执行的内存模型：每个方法在执行的同时都会创建一个<strong>栈帧</strong>用于存储局部变量表，操作数栈，动态链接，方法出口等信息。每一个方法从调用直至执行完成的过程，就对应着一个栈帧在虚拟机栈中入栈到出栈的过程。局部变量表存放了编译期可知的各种基本类型,对象引用。</p>
<p>另：一：虚拟机栈可能会抛出两种异常，如果线程请求的栈深度大于虚拟机所允许的深度，将抛出StackOverflowError异常；二：无法满足内存需求时，会抛出OutOfMemoryError异常。</p>
<p><strong>栈溢出可以通过无线递归方式</strong></p>
<h4 id="1-3本地方法栈"><a href="#1-3本地方法栈" class="headerlink" title="1.3本地方法栈"></a>1.3本地方法栈</h4><p>本地方法栈与虚拟机栈发挥的作用是非常相似的，他们之间的区别不过是虚拟机栈是为虚拟机执行Java服务的，而本地方法栈是为虚拟机使用到的native方法服务的。同样也会有两种异常。</p>
<h4 id="1-4Java堆"><a href="#1-4Java堆" class="headerlink" title="1.4Java堆"></a>1.4Java堆</h4><p>对大多数应用来说，堆是内存最大的一块，是被所有线程共享的一块内存区域，所有new出来的对象都存放在这里，也是主要的垃圾回收场所。当然也会发生内存溢出</p>
<p><strong>堆内存溢出只需要死循环创建对象即可</strong></p>
<h4 id="1-5程序计数器"><a href="#1-5程序计数器" class="headerlink" title="1.5程序计数器"></a>1.5程序计数器</h4><p>可以看作是当前线程所执行的字节码的行号指示器，每条线程都有一个独立的程序计数器。如果线程执行的Java方法，这个计数器记录的是正在执行的虚拟机字节码指令的地址；如果正在执行的是Native方法，这个计数器为空（Undefined）。</p>
<p><strong>此内存区域是唯一一个在Java虚拟机规范中没有规定任何OutOfMemoryError情况的区域</strong></p>
<h4 id="1-6运行时常量池"><a href="#1-6运行时常量池" class="headerlink" title="1.6运行时常量池"></a>1.6运行时常量池</h4><p>运行时常量池在1.7之前都是存放在方法区中，之后就改为存放在堆中，这也导致intern()方法在判断时有些不同，这里可以自己尝试。</p>
<p>常量池分为两种，运行时常量池和Class文件常量池，Class文件常量池主要存放一些类和接口的权限定名，字段名称和描述符，方法名称和描述符，但运行时常量池相对于Class文件常量池的另外一个重要特性就是具备动态性，比如：基本类型包装类（包装类不管理浮点型，整形只会管理-128到127）和String（也可以通过String.intern()方法可以强制将String放入常量池）</p>
<h4 id="1-7直接内存"><a href="#1-7直接内存" class="headerlink" title="1.7直接内存"></a>1.7直接内存</h4><p>这部分虽然不是虚拟机运行时数据区的一部分，也不是Java虚拟机规范中定义的内存区域，但是这部分内存被频繁的使用也会导致OutMemoryError异常的出现。</p>
<h3 id="2-Java对象头"><a href="#2-Java对象头" class="headerlink" title="2.Java对象头"></a>2.Java对象头</h3><p>以Hotspot虚拟机为例，Hotspot的对象头主要包括两部分数据：Mark Word（标记字段）、Klass Pointer（类型指针）。</p>
<p>Mark Word：默认存储对象的HashCode，分代年龄和锁标志位信息。这些信息都是与对象自身定义无关的数据，所以Mark Word被设计成一个非固定的数据结构以便在极小的空间内存存储尽量多的数据。它会根据对象的状态复用自己的存储空间，也就是说在运行期间Mark Word里存储的数据会随着锁标志位的变化而变化。</p>
<p>Klass Point：对象指向它的类元数据的指针，虚拟机通过这个指针来确定这个对象是哪个类的实例。</p>
<p><img src="../image/MarkWord.png" alt="MarkWord.png" title="MarkWord"></p>
<h3 id="3-Monitor"><a href="#3-Monitor" class="headerlink" title="3.Monitor"></a>3.Monitor</h3><p>Monitor可以理解为一个同步工具或一种同步机制，通常被描述为一个对象。每一个Java对象就有一把看不见的锁，称为内部锁或者Monitor锁。</p>
<p>Monitor是线程私有的数据结构，每一个线程都有一个可用monitor record列表，同时还有一个全局的可用列表。每一个被锁住的对象都会和一个monitor关联，同时monitor中有一个Owner字段存放拥有该锁的线程的唯一标识，表示该锁被这个线程占用。</p>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java内存区域与内存溢出异常/">Java内存区域与内存溢出异常</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/深入理解Java虚拟机/">深入理解Java虚拟机</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="blog-《深入理解Java虚拟机》第一章" class="article article-type-blog" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/04/19/《深入理解Java虚拟机》第一章/"
    >《深入理解Java虚拟机》第一章 走进Java</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/04/19/《深入理解Java虚拟机》第一章/" class="article-date">
  <time datetime="2020-04-19T13:47:54.000Z" itemprop="datePublished">2020-04-19</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/JVM/">JVM</a>
  </div>

      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <h3 id="结束了Redis系列问题，现在开始JVM虚拟机的篇章，第一讲，此系列不定时更新，因为想把这本书看透是需要时间的，所以我打算把JVM当作调味品，最近打算学习一下大数据知识，所以JVM当作放松的“课外书籍”来看。"><a href="#结束了Redis系列问题，现在开始JVM虚拟机的篇章，第一讲，此系列不定时更新，因为想把这本书看透是需要时间的，所以我打算把JVM当作调味品，最近打算学习一下大数据知识，所以JVM当作放松的“课外书籍”来看。" class="headerlink" title="结束了Redis系列问题，现在开始JVM虚拟机的篇章，第一讲，此系列不定时更新，因为想把这本书看透是需要时间的，所以我打算把JVM当作调味品，最近打算学习一下大数据知识，所以JVM当作放松的“课外书籍”来看。"></a>结束了Redis系列问题，现在开始JVM虚拟机的篇章，第一讲，此系列不定时更新，因为想把这本书看透是需要时间的，所以我打算把JVM当作调味品，最近打算学习一下大数据知识，所以JVM当作放松的“课外书籍”来看。</h3><h3 id="第一章书上只是说了一些Java的发展史，我只想总结下JDK，JVM，JRE的关系"><a href="#第一章书上只是说了一些Java的发展史，我只想总结下JDK，JVM，JRE的关系" class="headerlink" title="第一章书上只是说了一些Java的发展史，我只想总结下JDK，JVM，JRE的关系"></a>第一章书上只是说了一些Java的发展史，我只想总结下JDK，JVM，JRE的关系</h3><p><img src="../image/JDK.png" alt="JDK.png" title="JDK"></p>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/深入理解Java虚拟机/">深入理解Java虚拟机</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/走进Java/">走进Java</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="blog-go-big-or-go-home-34" class="article article-type-blog" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/04/18/go-big-or-go-home-34/"
    >go big or go home-34</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/04/18/go-big-or-go-home-34/" class="article-date">
  <time datetime="2020-04-18T15:30:36.000Z" itemprop="datePublished">2020-04-18</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/English/">English</a>
  </div>

      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <table>
<thead>
<tr>
<th>单词/短语</th>
<th>中文</th>
<th>句子</th>
</tr>
</thead>
<tbody><tr>
<td>point</td>
<td>指向</td>
<td>They are pointing at each other</td>
</tr>
<tr>
<td>department store</td>
<td>百货商场</td>
<td>This department store sells many different kinds of goods</td>
</tr>
<tr>
<td>silver medal</td>
<td>银牌</td>
<td>The athlete who took second place got a silver medal</td>
</tr>
<tr>
<td>forgive</td>
<td>原谅</td>
<td>The girl says,”Can you forgive me,mom?”</td>
</tr>
<tr>
<td>go on doing</td>
<td>继续干某事</td>
<td>Even though he was tired,he went on working for 12 hours</td>
</tr>
<tr>
<td>alone</td>
<td>孤单</td>
<td>Seesaws are not very fun when you’re alone</td>
</tr>
<tr>
<td>brotherhood</td>
<td>手足情谊</td>
<td>The brotherhood between the boys will keep them close forever</td>
</tr>
<tr>
<td>statistics</td>
<td>统计数字</td>
<td>I use facts and statistics to prove my point</td>
</tr>
<tr>
<td>bookstore</td>
<td>书店</td>
<td>She’s buying books in the bookstore</td>
</tr>
<tr>
<td>decision</td>
<td>决定</td>
<td>I’ve made my decision to buy this beautiful skirt</td>
</tr>
<tr>
<td>suspect</td>
<td>嫌疑犯</td>
<td>The suspect is talking with his lawyer</td>
</tr>
</tbody></table>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/单词/">单词</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="blog-go-big-or-go-home-33" class="article article-type-blog" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/04/17/go-big-or-go-home-33/"
    >go big or go home-33</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/04/17/go-big-or-go-home-33/" class="article-date">
  <time datetime="2020-04-17T14:13:23.000Z" itemprop="datePublished">2020-04-17</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/English/">English</a>
  </div>

      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <table>
<thead>
<tr>
<th>单词/短语</th>
<th>中文</th>
<th>句子</th>
</tr>
</thead>
<tbody><tr>
<td>suspect</td>
<td>嫌疑犯</td>
<td>The suspect is talking with his lawyer</td>
</tr>
<tr>
<td>hand in</td>
<td>上交</td>
<td>He’s handing in his homework to the teacher</td>
</tr>
<tr>
<td>ladder</td>
<td>梯子</td>
<td>The man is standing on a ladder</td>
</tr>
<tr>
<td>weakness</td>
<td>弱点</td>
<td>Vampires’s weakness is that they are afraid of sunshine</td>
</tr>
<tr>
<td>French</td>
<td>法国</td>
<td>The Eiffel tower is a French landmark</td>
</tr>
<tr>
<td>million</td>
<td>百万</td>
<td>-</td>
</tr>
<tr>
<td>billion</td>
<td>十亿</td>
<td>-</td>
</tr>
<tr>
<td>minibus</td>
<td>小巴士</td>
<td>Let’s take the minibus on a trip!</td>
</tr>
<tr>
<td>junior</td>
<td>三年级学生</td>
<td>The junior is preparing for her exams in the dormitory</td>
</tr>
</tbody></table>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/单词/">单词</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="blog-go-big-or-go-home-32" class="article article-type-blog" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/04/16/go-big-or-go-home-32/"
    >go big or go home-32</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/04/16/go-big-or-go-home-32/" class="article-date">
  <time datetime="2020-04-16T15:40:47.000Z" itemprop="datePublished">2020-04-16</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/English/">English</a>
  </div>

      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <table>
<thead>
<tr>
<th>单词/短语</th>
<th>中文</th>
<th>句子</th>
</tr>
</thead>
<tbody><tr>
<td>latter</td>
<td>后者</td>
<td>When asked what he would prefer;an apple or pizza,the boy chose the latter</td>
</tr>
<tr>
<td>kitchen</td>
<td>厨房</td>
<td>The kitchen is clean and modern</td>
</tr>
<tr>
<td>senior</td>
<td>年长的</td>
<td>The senior citizens in the community often have fun talking to each other</td>
</tr>
<tr>
<td>build</td>
<td>建造</td>
<td>They are building a block of offices</td>
</tr>
<tr>
<td>parcel</td>
<td>包裹</td>
<td>The person has a lot of parcels to send on Novermber 11th</td>
</tr>
<tr>
<td>animal</td>
<td>动物</td>
<td>There are many kinds of animals on earth</td>
</tr>
<tr>
<td>take out the rubbish</td>
<td>倒垃圾</td>
<td>Could you please take out the rubbish when you leave?</td>
</tr>
<tr>
<td>put it in the trash can</td>
<td>放进垃圾桶</td>
<td>Don’t drop the bottle there,please put it in the trash can</td>
</tr>
<tr>
<td>empty the recycle bin</td>
<td>清理垃圾桶</td>
<td>-</td>
</tr>
<tr>
<td>garbage</td>
<td>食物垃圾(美式)</td>
<td>-</td>
</tr>
<tr>
<td>trash</td>
<td>纸/塑料(美式)</td>
<td>-</td>
</tr>
<tr>
<td>rubbish</td>
<td>垃圾(英式)</td>
<td>-</td>
</tr>
<tr>
<td>dead</td>
<td>死的</td>
<td>The fish is dead</td>
</tr>
</tbody></table>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/单词/">单词</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
  </article>
  

  
  <nav class="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/2/">下一页</a>
  </nav>
  
</section>
</div>

      <footer class="footer">
  <div class="outer">
    <ul class="list-inline">
      <li>
        &copy;
        2015-2020
        Gavin
      </li>
      <li>
        
        Powered by
        
        
        <a href="https://hexo.io" target="_blank">Hexo</a> Theme <a href="https://github.com/Shen-Yu/hexo-theme-ayer" target="_blank">Ayer</a>
        
      </li>
    </ul>
    <ul class="list-inline">
      <li>
        
        
        <span>
  <i>PV:<span id="busuanzi_value_page_pv"></span></i>
  <i>UV:<span id="busuanzi_value_site_uv"></span></i>
</span>
        
      </li>
      
      <li>
        <!-- cnzz统计 -->
        
        <script type="text/javascript" src='https://s9.cnzz.com/z_stat.php?id=1278069914&amp;web_id=1278069914'></script>
        
      </li>
    </ul>
  </div>
</footer>
      <div class="float_btns">
        <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

      </div>
    </main>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/ayer-side.svg" alt="孙云龙的技术博客"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">归档</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">目录</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">标签</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/about">关于我</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="Search">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <script>
      if (window.matchMedia("(max-width: 768px)").matches) {
        document.querySelector('.content').classList.remove('on');
        document.querySelector('.sidebar').classList.remove('on');
      }
    </script>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>请我喝杯咖啡吧~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="/images/alipay.jpg">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="/images/wechat.jpg">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
</div>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/lazyload.min.js"></script>

<script>
  try {
    var typed = new Typed("#subtitle", {
      strings: ['面朝大海，春暖花开', '愿你一生努力，一生被爱', '想要的都拥有，得不到的都释怀'],
      startDelay: 0,
      typeSpeed: 200,
      loop: true,
      backSpeed: 100,
      showCursor: true
    });
  } catch (err) {
  }

</script>





<script src="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.css">
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js"></script>
<script src="/dist/main.js"></script>


<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css">
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script>




<script src="/js/busuanzi-2.3.pure.min.js"></script>


<script type="text/javascript" src="https://js.users.51.la/20544303.js"></script>


    
  </div>
</body>

</html>